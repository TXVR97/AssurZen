<section class="max-w-3xl mx-auto p-6">
  <h1 class="text-2xl font-bold mb-4">Mes contrats</h1>

  @if (loading) {
    <p class="text-gray-600">Chargement…</p>
  }
  @else if (error) {
    <p class="text-red-600">Impossible de charger les contrats.</p>
  }
  @else if (contracts.length === 0) {
    <p class="text-gray-600">Aucun contrat à afficher.</p>
  }
  @else {
    <ul class="divide-y">
      @for (contract of contracts; track contract.id) {
        <li class="py-3 flex items-center justify-between">
          <div>
            <div class="font-medium">
              {{ contract.companyName }} • {{ contract.plan }}
            </div>
            <div class="text-sm text-gray-500">
              Titulaire : {{ contract.holderName }} · Début : {{ contract.startDate | date:'mediumDate' }}
            </div>
          </div>

          <a
  [routerLink]="['/contract', contract.id]"
  class="text-blue-600 hover:underline text-sm"
  [attr.aria-label]="'Voir le contrat ' + contract.id"
>Voir le détail</a>
        </li>
      }
    </ul>
  }
</section>